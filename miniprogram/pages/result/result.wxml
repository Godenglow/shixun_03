<view class="container">
  <view class="header">
    <view class="celebration">
      <text class="icon">ğŸ‰</text>
      <text class="title">æµ‹è¯•å®Œæˆ</text>
    </view>
    <text class="subtitle">ä»¥ä¸‹æ˜¯æ‚¨çš„æµ‹è¯•ç»“æœ</text>
  </view>

  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ç»“æœä¸­...</text>
  </view>

  <view class="error" wx:if="{{error}}">
    <text>{{error}}</text>
    <button class="retry-btn" bindtap="loadResult">é‡è¯•</button>
  </view>

  <view class="result-content" wx:if="{{!loading && !error && result}}">
    <!-- æµ‹è¯•ä¿¡æ¯å¡ç‰‡ -->
    <view class="info-card">
      <view class="test-info">
        <text class="test-title">{{result.testTitle}}</text>
        <text class="test-date">{{result.createTime}}</text>
      </view>
    </view>

    <!-- å¾—åˆ†å¡ç‰‡ -->
    <view class="score-card">
      <view class="score-circle">
        <text class="score-number">{{result.result.score}}</text>
        <text class="score-total">/ {{result.result.maxScore}}</text>
      </view>
      <text class="score-level">{{result.result.level}}</text>
    </view>

    <!-- ç»“æœæè¿° -->
    <view class="description-card">
      <text class="card-title">ç»“æœåˆ†æ</text>
      <text class="description-text">{{result.result.description}}</text>
    </view>

    <!-- å»ºè®®å¡ç‰‡ -->
    <view class="advice-card">
      <text class="card-title">å»ºè®®</text>
      <text class="advice-text">{{result.result.advice}}</text>
    </view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view class="action-buttons">
      <button class="action-btn primary" bindtap="shareResult">
        <text class="btn-text">åˆ†äº«ç»“æœ</text>
      </button>
      
      <view class="secondary-actions">
        <button class="action-btn secondary" bindtap="goHome">
          <text class="btn-text">è¿”å›é¦–é¡µ</text>
        </button>
        
        <button class="action-btn secondary" bindtap="goProfile">
          <text class="btn-text">æŸ¥çœ‹è®°å½•</text>
        </button>
      </view>
    </view>
  </view>

  <!-- åˆ†äº«å¼¹çª— -->
  <view class="share-modal" wx:if="{{showShare}}" bindtap="hideShare">
    <view class="share-content" catchtap="">
      <view class="share-header">
        <text class="share-title">åˆ†äº«æµ‹è¯•ç»“æœ</text>
        <text class="close-btn" bindtap="hideShare">Ã—</text>
      </view>
      
      <view class="share-body">
        <button class="share-btn" open-type="share">
          <text class="share-icon">ğŸ“¤</text>
          <text class="share-text">è½¬å‘ç»™æœ‹å‹</text>
        </button>
        
        <button class="share-btn" bindtap="saveImage">
          <text class="share-icon">ğŸ“¸</text>
          <text class="share-text">ä¿å­˜å›¾ç‰‡</text>
        </button>
      </view>
    </view>
  </view>
</view>